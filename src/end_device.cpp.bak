#include <HardwareSerial.h>          // Include HardwareSerial library for communication
#include <Arduino.h>                 // Include Arduino core library for basic functions

HardwareSerial XBee(2);              // Use Serial2 (UART2)

void setup() {
  Serial.begin(115200);                // Start communication with the PC for debugging
  XBee.begin(9600, SERIAL_8N1, 25, 26);  // Configure Serial2: baud, config, RX pin, TX pin

  randomSeed(analogRead(0));         // Seed the random number generator for varied results
}

void loop() {
  int randomNumber = random(256);  // Generate a random number between 0 and 255
  delay(5000);  
  
  XBee.print('<');                   // Start of transmission marker
  XBee.print(randomNumber);          // Send the randomly generated number
  XBee.println('>');                 // End of transmission marker

  Serial.print("Sent number: ");     // Debugging output to Serial Monitor
  Serial.println(randomNumber);

  delay(1000);                       // Delay between sends to avoid flooding
}