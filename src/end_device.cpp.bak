#include <HardwareSerial.h>          
#include <Arduino.h>                 

HardwareSerial XBee(2);              

void setup() {
  Serial.begin(115200);                
  delay(3000);  // Wait for Serial Monitor
  
  Serial.println("=============================");
  Serial.println("END DEVICE STARTING...");
  Serial.println("=============================");
  
  XBee.begin(9600, SERIAL_8N1, 25, 26);  
  delay(1000);
  
  Serial.println("XBee initialized on pins 25(RX), 26(TX)");
  randomSeed(analogRead(0));         
  Serial.println("End device ready to send data...");
  Serial.println("=============================");
}

void loop() {
  int randomNumber = random(256);  
  
  // Send the message
  XBee.print('<');                   
  XBee.print(randomNumber);          
  XBee.print('>');                 
  
  // Detailed logging
  Serial.println("=============================");
  Serial.print("Sending: <");
  Serial.print(randomNumber);
  Serial.println(">");
  Serial.print("Bytes sent: ");
  Serial.print(XBee.availableForWrite());
  Serial.println(" buffer space available");
  Serial.println("=============================");

  delay(3000);  // Send every 3 seconds
}
